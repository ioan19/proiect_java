<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="dronefleet.DashboardController" stylesheets="@style.css">

    <top>
        <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color:#2c3e50;">
            <padding><Insets top="15" right="20" bottom="15" left="20"/></padding>
            <Label text="DroneFleet Manager - Admin" style="-fx-text-fill:white; -fx-font-size:20; -fx-font-weight:bold;"/>
            <Pane HBox.hgrow="ALWAYS" />
            <Button text="Logout" onAction="#onLogout" styleClass="button-danger"/>
        </HBox>
    </top>

    <center>
        <VBox spacing="20" style="-fx-padding: 20;">
            
            <HBox spacing="20">
                <VBox styleClass="card" HBox.hgrow="ALWAYS" alignment="CENTER">
                    <Label text="TOTAL DRONE" styleClass="label-dim"/>
                    <Label fx:id="totalDronesLabel" text="0" style="-fx-font-size:36; -fx-text-fill:#3498db; -fx-font-weight:bold;"/>
                </VBox>
                <VBox styleClass="card" HBox.hgrow="ALWAYS" alignment="CENTER">
                    <Label text="FLOTA ACTIVĂ" styleClass="label-dim"/>
                    <Label fx:id="activeDronesLabel" text="0" style="-fx-font-size:36; -fx-text-fill:#2ecc71; -fx-font-weight:bold;"/>
                </VBox>
                <VBox styleClass="card" HBox.hgrow="ALWAYS" alignment="CENTER">
                    <Label text="ÎN SERVICE" styleClass="label-dim"/>
                    <Label fx:id="maintenanceLabel" text="0" style="-fx-font-size:36; -fx-text-fill:#e74c3c; -fx-font-weight:bold;"/>
                </VBox>
            </HBox>

            <Label text="Monitorizare Flotă (Live)" styleClass="h2"/>

            <TableView fx:id="droneTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colId" text="ID" prefWidth="80" />
                    <TableColumn fx:id="colModel" text="Model" prefWidth="150" />
                    <TableColumn fx:id="colStatus" text="Status" prefWidth="120" />
                    <TableColumn fx:id="colPayload" text="Capacitate (kg)" prefWidth="120" />
                    <TableColumn fx:id="colTime" text="Timp Rămas" prefWidth="120" style="-fx-alignment: CENTER; -fx-text-fill: #e74c3c; -fx-font-weight: bold;"/>
                </columns>
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
            </TableView>

            <HBox spacing="10" alignment="CENTER_RIGHT">
                <Button text="+ Adaugă Dronă" onAction="#addDrone" styleClass="button" />
                <Button text="Trimite în Service" onAction="#setMaintenance" styleClass="button" style="-fx-background-color: #f39c12; -fx-text-fill:white;"/>
                <Button text="Șterge Drona" onAction="#removeDrone" styleClass="button-danger" />
                
                <Region prefWidth="20"/>
                
                <Button text="Planifică Misiune (Hartă)" onAction="#openMap" styleClass="button-success" style="-fx-font-size:14px; -fx-padding: 10 20;"/>
            </HBox>
        </VBox>
    </center>
</BorderPane>